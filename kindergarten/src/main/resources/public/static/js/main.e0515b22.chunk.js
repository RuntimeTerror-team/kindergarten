(this["webpackJsonpkindergarten-ui"]=this["webpackJsonpkindergarten-ui"]||[]).push([[0],{19:function(e,t,a){},63:function(e,t,a){"use strict";a.r(t);var s=a(0),n=a(1),r=a.n(n),c=a(31),i=a.n(c),o=a(16),l=a(2),d=a(7),u=a(9),h=a(11),j=a(10),m=a(13),b=a.n(m),p=function(e){return Object(s.jsx)("div",{className:"row h-100 justify-content-center align-items-center",children:Object(s.jsxs)("div",{children:[Object(s.jsx)("h1",{children:"Prisijungimas"}),Object(s.jsxs)("form",{className:"form",onSubmit:e.onSubmit,children:[Object(s.jsxs)("div",{className:"form-group",children:[Object(s.jsx)("label",{htmlFor:"username",children:"Prisijungimo vardas: "}),Object(s.jsx)("input",{className:"form-control ",id:"username",value:e.username,onChange:e.onUsernameChange,name:"username",placeholder:"Prisijungimo vardas"})]}),Object(s.jsxs)("div",{className:"form-group",children:[Object(s.jsx)("label",{htmlFor:"password",className:"control-label",children:"Slapta\u017eodis: "}),Object(s.jsx)("input",{className:"form-control",type:"password",id:"password",value:e.password,onChange:e.onPasswordChange,name:"password",placeholder:"Slapta\u017eodis"})]}),Object(s.jsx)("button",{className:"btn btn-primary",children:"Prisijungti"})]})]})})},x="/kindergarten",v=r.a.createContext(null),O=function(e){Object(h.a)(a,e);var t=Object(j.a)(a);function a(){var e;return Object(d.a)(this,a),(e=t.call(this)).handleChangeUsername=function(t){t.preventDefault(),e.setState({username:t.target.value})},e.handleChangePassword=function(t){t.preventDefault(),e.setState({password:t.target.value})},e.handleSubmit=function(t){t.preventDefault();var a="",s=t.target.username.value,n=t.target.password.value;b.a.get("".concat(x,"/api/users/").concat(s)).then((function(t){var s=t.data.password;a=t.data.role,n===s&&(e.context.userService.setCurrentUser(t.data.username),e.context.userService.setUserRole(a),e.context.userService.updateCurrentUser(),e.context.userService.updateUserRole())})).then((function(){"ADMIN"===e.context.userService.getUserRole()?e.props.history.push("/admin"):"EDUCATION_SPECIALIST"===e.context.userService.getUserRole()?e.props.history.push("/education-specialist"):"GUARDIAN"===e.context.userService.getUserRole()&&e.props.history.push("/guardian")})).catch((function(e){return console.log(e)})),e.setState({username:""}),e.setState({password:""})},e.state={username:"",password:""},e}return Object(u.a)(a,[{key:"render",value:function(){return Object(s.jsx)(p,{username:this.state.username,password:this.state.password,onSubmit:this.handleSubmit,onUsernameChange:this.handleChangeUsername,onPasswordChange:this.handleChangePassword})}}]),a}(n.Component);O.contextType=v;var g=Object(l.f)(O),f=(a(19),function(e){var t=e.handleLogout,a=e.usersName;return Object(s.jsx)("div",{className:"container-fluid p-4",children:Object(s.jsxs)("div",{className:"container top-line",children:[Object(s.jsx)("p",{className:"lead",children:a}),Object(s.jsx)("button",{className:"btn btn-info",onClick:t,children:"Atsijungti"})]})})}),U=a(33),C=a(15),S=a(34),N=function(e){var t=e.handleChange,a=e.handleSubmit,n=Object(S.a)(e,["handleChange","handleSubmit"]),r=n.firstname,c=n.lastname,i=n.firstnameFieldValidation,o=n.lastnameFieldValidation;return Object(s.jsx)("div",{className:"row justify-content-center align-items-center",children:Object(s.jsxs)("div",{children:[Object(s.jsx)("h1",{className:"mb-4",children:"Paskyros suk\u016brimas"}),Object(s.jsxs)("form",{className:"form",onSubmit:a,children:[Object(s.jsxs)("div",{className:"form-group",children:[Object(s.jsx)("input",{type:"text",className:"form-control ".concat(i),id:"firstname",value:r,onChange:t,name:"firstname",placeholder:"Vardas"}),Object(s.jsx)("div",{className:"invalid-feedback",children:"Pra\u0161om u\u017epildyti vard\u0105."})]}),Object(s.jsxs)("div",{className:"form-group",children:[Object(s.jsx)("input",{type:"text",className:"form-control ".concat(o),id:"lastname",value:c,onChange:t,name:"lastname",placeholder:"Pavard\u0117"}),Object(s.jsx)("div",{className:"invalid-feedback",children:"Pra\u0161om u\u017epildyti pavard\u0119."})]}),Object(s.jsxs)("div",{className:"input-group mb-3",children:[Object(s.jsx)("div",{className:"input-group-prepend",children:Object(s.jsx)("label",{className:"input-group-text",htmlFor:"inputGroupSelect01",style:{backgroundColor:"#e3f2fd"},children:"Rol\u0117"})}),Object(s.jsxs)("select",{className:"custom-select",id:"inputGroupSelect01",name:"role",children:[Object(s.jsx)("option",{value:"GUARDIAN",defaultValue:!0,children:"T\u0117vas/glob\u0117jas"}),Object(s.jsx)("option",{value:"EDUCATION_SPECIALIST",children:"\u0160vietimo specialistas"})]})]}),Object(s.jsx)("button",{className:"btn btn-info float-right",children:"I\u0161saugoti"})]})]})})},k=function(e){Object(h.a)(a,e);var t=Object(j.a)(a);function a(){var e;return Object(d.a)(this,a),(e=t.call(this)).handleChange=function(t){var a=t.target,s=a.name,n=a.value;""!==n&&/^[a-zA-Z\b]+$/.test(n)?e.setState(Object(C.a)({},s,n)):0===n.length&&e.setState(Object(C.a)({},s,"")),""!==e.state.firstnameFieldValidation&&"firstname"===s&&e.setState({firstnameFieldValidation:""}),""!==e.state.lastnameFieldValidation&&"lastname"===s&&e.setState({lastnameFieldValidation:""}),e.state.isCreated&&(e.setState({isCreated:!1}),e.setState({createdUsername:""}))},e.validate=function(t,a){0===t.trim().length&&e.setState({firstnameFieldValidation:"is-invalid"}),0===a.trim().length&&e.setState({lastnameFieldValidation:"is-invalid"})},e.handleSubmit=function(t){t.preventDefault(),e.state.isCreated&&(e.setState({isCreated:!1}),e.setState({createdUsername:""}));var a=t.target.firstname.value,s=t.target.lastname.value;e.validate(a,s),0!==a.trim().length&&0!==s.trim().length&&(b.a.post("".concat(x,"/api/users/admin"),{firstName:a,lastName:s,role:t.target.role.value}).then((function(t){e.setState({isCreated:!0}),e.setState({createdUsername:t.data})})).catch((function(e){return console.log(e)})),e.setState({firstname:""}),e.setState({lastname:""}),e.setState({role:""}))},e.state={firstname:"",lastname:"",role:"",firstnameFieldValidation:"",lastnameFieldValidation:"",isCreated:!1,createdUsername:""},e}return Object(u.a)(a,[{key:"render",value:function(){return Object(s.jsxs)("div",{children:[Object(s.jsx)(N,Object(U.a)({handleSubmit:this.handleSubmit,handleChange:this.handleChange},this.state)),this.state.isCreated&&this.state.createdUsername.length<=30&&Object(s.jsx)("div",{className:"alert alert-success w-100 mt-4",role:"alert",children:"Naudotojas sukurtas. Prisijungimo vardas ir slapta\u017eodis: ".concat(this.state.createdUsername)}),this.state.isCreated&&this.state.createdUsername.length>30&&Object(s.jsx)("div",{className:"alert alert-success w-100 mt-4",role:"alert",children:this.state.createdUsername})]})}}]),a}(n.Component);k.contextType=v;var w=k,y=function(e){var t=e.handleLogout,a=e.handleUserChoice,n=e.choice;return Object(s.jsxs)("div",{children:[Object(s.jsx)(f,{handleLogout:t,usersName:"Administratoriaus paskyra"}),Object(s.jsx)("div",{className:"container p-4",children:Object(s.jsxs)("div",{className:"row",children:[Object(s.jsxs)("div",{className:"admin-actions col-4",children:[Object(s.jsx)("button",{className:"btn btn-info mb-2 w-100",onClick:a,name:"adminUsers",children:"Paskyr\u0173 administravimas"}),Object(s.jsx)("button",{className:"btn btn-info mb-2 w-100",onClick:a,name:"2",children:"Ka\u017ekas dar"}),Object(s.jsx)("button",{className:"btn btn-info mb-2 w-100",onClick:a,name:"3",children:"Ir dar ka\u017ekas"})]}),Object(s.jsxs)("div",{className:"admin-action-placeholder col-8",children:["greeting"===n&&Object(s.jsx)("h1",{children:"Sveiki prisijung\u0119 \u012f dar\u017eeli\u0173 informacin\u0119 sistem\u0105"}),"adminUsers"===n&&Object(s.jsx)(w,{}),"2"===n&&Object(s.jsx)("h1",{children:"Ka\u017ekas dar"}),"3"===n&&Object(s.jsx)("h1",{children:"Ir dar ka\u017ekas"})]})]})})]})},L=function(e){Object(h.a)(a,e);var t=Object(j.a)(a);function a(){var e;return Object(d.a)(this,a),(e=t.call(this)).handleUserChoice=function(t){e.setState({choice:t.target.name})},e.handleLogout=function(){e.context.userService.setCurrentUser(""),e.context.userService.setUserRole(""),e.context.userService.updateCurrentUser(),e.context.userService.updateUserRole(),e.props.history.push("/")},e.state={choice:"greeting",currentUserFirstame:"",currentUserLastname:""},e}return Object(u.a)(a,[{key:"render",value:function(){return"ADMIN"===this.context.userService.getUserRole()?Object(s.jsx)(y,{handleUserChoice:this.handleUserChoice,handleLogout:this.handleLogout,choice:this.state.choice}):Object(s.jsx)("h1",{children:"Access denied"})}}]),a}(n.Component);L.contextType=v;var R=L,I=function(e){var t=e.handleLogout,a=e.handleUserChoice,n=e.choice;return Object(s.jsxs)("div",{children:[Object(s.jsx)(f,{handleLogout:t,usersName:"\u0160vietimo specialistas"}),Object(s.jsx)("div",{className:"container p-4",children:Object(s.jsxs)("div",{className:"row",children:[Object(s.jsxs)("div",{className:"admin-actions col-4",children:[Object(s.jsx)("button",{className:"btn btn-info mb-2 w-100",onClick:a,name:"1",children:"Ka\u017ekas"}),Object(s.jsx)("button",{className:"btn btn-info mb-2 w-100",onClick:a,name:"2",children:"Ka\u017ekas dar"}),Object(s.jsx)("button",{className:"btn btn-info mb-2 w-100",onClick:a,name:"3",children:"Ir dar ka\u017ekas"})]}),Object(s.jsxs)("div",{className:"admin-action-placeholder col-8",children:["greeting"===n&&Object(s.jsx)("h1",{children:"Sveiki prisijung\u0119 \u012f dar\u017eeli\u0173 informacin\u0119 sistem\u0105"}),"1"===n&&Object(s.jsx)("h1",{children:"Ka\u017ekas"}),"2"===n&&Object(s.jsx)("h1",{children:"Ka\u017ekas dar"}),"3"===n&&Object(s.jsx)("h1",{children:"Ir dar ka\u017ekas"})]})]})})]})},A=function(e){Object(h.a)(a,e);var t=Object(j.a)(a);function a(){var e;return Object(d.a)(this,a),(e=t.call(this)).handleUserChoice=function(t){e.setState({choice:t.target.name})},e.handleLogout=function(){e.context.userService.setCurrentUser(""),e.context.userService.setUserRole(""),e.context.userService.updateCurrentUser(),e.context.userService.updateUserRole(),e.props.history.push("/")},e.state={choice:"greeting"},e}return Object(u.a)(a,[{key:"render",value:function(){return"EDUCATION_SPECIALIST"===this.context.userService.getUserRole()?Object(s.jsx)(I,{handleUserChoice:this.handleUserChoice,handleLogout:this.handleLogout,choice:this.state.choice}):Object(s.jsx)("h1",{children:"Access denied"})}}]),a}(n.Component);A.contextType=v;var F=A,P=function(e){var t=e.handleLogout,a=e.handleUserChoice,n=e.choice,r=e.currentUserFirstname,c=e.currentUserLastname;return Object(s.jsxs)("div",{children:[Object(s.jsx)(f,{handleLogout:t,usersName:"".concat(r," ").concat(c)}),Object(s.jsx)("div",{className:"container p-4",children:Object(s.jsxs)("div",{className:"row",children:[Object(s.jsxs)("div",{className:"admin-actions col-4",children:[Object(s.jsx)("button",{className:"btn btn-info mb-2 w-100",onClick:a,name:"1",children:"Ka\u017ekas"}),Object(s.jsx)("button",{className:"btn btn-info mb-2 w-100",onClick:a,name:"2",children:"Ka\u017ekas dar"}),Object(s.jsx)("button",{className:"btn btn-info mb-2 w-100",onClick:a,name:"3",children:"Ir dar ka\u017ekas"})]}),Object(s.jsxs)("div",{className:"admin-action-placeholder col-8",children:["greeting"===n&&Object(s.jsx)("h1",{children:"Sveiki prisijung\u0119 \u012f dar\u017eeli\u0173 informacin\u0119 sistem\u0105"}),"1"===n&&Object(s.jsx)("h1",{children:"Ka\u017ekas"}),"2"===n&&Object(s.jsx)("h1",{children:"Ka\u017ekas dar"}),"3"===n&&Object(s.jsx)("h1",{children:"Ir dar ka\u017ekas"})]})]})})]})},D=function(e){Object(h.a)(a,e);var t=Object(j.a)(a);function a(){var e;return Object(d.a)(this,a),(e=t.call(this)).componentDidMount=function(){var t=e.context.userService.getCurrentUser();b.a.get("".concat(x,"/api/users/").concat(t)).then((function(t){e.setState({currentUserFirstname:t.data.firstName}),e.setState({currentUserLastname:t.data.lastName})})).catch((function(e){return console.log(e)}))},e.handleUserChoice=function(t){e.setState({choice:t.target.name})},e.handleLogout=function(){e.context.userService.setCurrentUser(""),e.context.userService.setUserRole(""),e.context.userService.updateCurrentUser(),e.context.userService.updateUserRole(),e.props.history.push("/")},e.state={choice:"greeting",currentUserFirstname:"",currentUserLastname:""},e}return Object(u.a)(a,[{key:"render",value:function(){return"GUARDIAN"===this.context.userService.getUserRole()?Object(s.jsx)("div",{children:Object(s.jsx)(P,{handleUserChoice:this.handleUserChoice,handleLogout:this.handleLogout,choice:this.state.choice,currentUserFirstname:this.state.currentUserFirstname,currentUserLastname:this.state.currentUserLastname})}):Object(s.jsx)("h1",{children:"Access denied"})}}]),a}(n.Component);D.contextType=v;var T=D,V=function(e){return Object(s.jsx)("div",{className:"container",children:Object(s.jsxs)("div",{className:"m-5",children:[Object(s.jsx)("h1",{children:"Tokio adreso n\u0117ra"}),Object(s.jsx)("button",{className:"btn btn-primary ml-2 mt-3",onClick:function(){return e.history.push("/")},children:"Eiti \u012f prisijungimo puslap\u012f"})]})})};var K=function(e){return Object(s.jsxs)("div",{children:[Object(s.jsxs)(l.c,{children:[Object(s.jsx)(l.a,{exact:!0,path:"/",component:g}),Object(s.jsx)(l.a,{exact:!0,path:"/admin",component:R}),Object(s.jsx)(l.a,{exact:!0,path:"/education-specialist",component:F}),Object(s.jsx)(l.a,{exact:!0,path:"/guardian",component:T}),Object(s.jsx)(l.a,{path:"*",component:V}),Object(s.jsx)(l.a,{component:V})]}),e.children]})},_=function e(){var t=this;Object(d.a)(this,e),this.getCurrentUser=function(){return t._currentUser},this.setCurrentUser=function(e){t._currentUser=e},this.getUserRole=function(){return t._userRole},this.setUserRole=function(e){t._userRole=e},this.updateCurrentUser=function(){},this.updateUserRole=function(){},this._currentUser="",this._userRole=""};a(62);document.title="Kindergarten App";var E=new _;i.a.render(Object(s.jsx)(r.a.StrictMode,{children:Object(s.jsx)(o.a,{basename:"/kindergarten",children:Object(s.jsx)(v.Provider,{value:{userService:E},children:Object(s.jsx)(K,{})})})}),document.getElementById("root"))}},[[63,1,2]]]);
//# sourceMappingURL=main.e0515b22.chunk.js.map